2025-07-18 18:15:26,902 - root - INFO - 日志系统初始化完成
2025-07-18 18:15:26,905 - root - INFO - 日志系统初始化完成
2025-07-18 18:15:26,906 - __main__ - INFO - 启动服务器: 0.0.0.0:5001
 * Serving Flask app 'server'
 * Debug mode: off
2025-07-18 18:15:26,914 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.88.171.231:5001
2025-07-18 18:15:26,914 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-07-18 18:15:29,344 - werkzeug - INFO - 127.0.0.1 - - [18/Jul/2025 18:15:29] "GET /health HTTP/1.1" 200 -
2025-07-18 18:15:45,711 - werkzeug - INFO - 127.0.0.1 - - [18/Jul/2025 18:15:45] "OPTIONS /workflows/run HTTP/1.1" 200 -
2025-07-18 18:15:45,715 - __main__ - INFO - 收到考试生成请求: {"inputs": {"reference": "", "grade": "1st", "subject": "Mathematics", "count": 5, "types": "singleChoice,multipleChoice,fillInTheBlank", "topics": "10以内加减法", "difficulty": "medium", "teacher_notes": "", "comments": ""}, "response_mode": "streaming", "user": "abc-123"}
2025-07-18 18:15:45,716 - __main__ - INFO - 创建工作流: 32013399-d744-4775-8d50-7fa46d3d711c
2025-07-18 18:15:45,716 - root - INFO - 为工作流 32013399-d744-4775-8d50-7fa46d3d711c 步骤 1e6c566c-4df0-4b68-916a-d5f733dcdd51 创建回调处理器
2025-07-18 18:15:45,746 - botocore.credentials - INFO - Found credentials in environment variables.
2025-07-18 18:15:45,863 - strands.telemetry.metrics - INFO - Creating Strands MetricsClient
2025-07-18 18:15:50,675 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:50,676 - root - INFO - 记录工具调用开始: extract_exam_metadata, ID: 0c85c9a8-09c3-474c-98e1-3f290de3fdb2
2025-07-18 18:15:52,175 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,175 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,176 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,176 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,177 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,177 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,179 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,179 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,182 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,184 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,185 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,185 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,186 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,186 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,380 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,380 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,381 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,381 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,381 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,382 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,383 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,383 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,383 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:52,383 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:55,544 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:55,544 - root - INFO - 自动标记上一个工具调用完成: tooluse_3AN8Yiz_T0ey-WhCC4SlTw
2025-07-18 18:15:55,544 - root - INFO - 记录工具调用开始: plan_exam_content, ID: fbb7155f-c746-40a7-a0d2-ab8bcef0b55a
2025-07-18 18:15:56,702 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,702 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,707 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,710 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,715 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,715 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,732 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,732 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,732 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,732 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,732 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,733 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,733 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,733 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,733 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,939 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,939 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,940 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,941 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:15:56,941 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:16:00,087 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,088 - root - INFO - 自动标记上一个工具调用完成: tooluse_pMMMv6adQvKell2CAEYhug
2025-07-18 18:16:00,088 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: 44d2e5c9-60d9-487f-a15a-d6c49655061f
2025-07-18 18:16:00,568 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,568 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,974 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,975 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,975 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,975 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:00,981 - root - INFO - 生成单选题，主题: 10以内加减法, 难度: medium
2025-07-18 18:16:00,982 - root - INFO - 使用缓存的单选题
2025-07-18 18:16:03,405 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:03,406 - root - INFO - 自动标记上一个工具调用完成: tooluse_El9IYRfXTtWZQyLdKEdnUw
2025-07-18 18:16:03,406 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: 8e2074f1-d20b-4729-a83c-00577ec42a27
2025-07-18 18:16:03,767 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:03,768 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:03,768 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:04,085 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:04,085 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:04,085 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:04,093 - root - INFO - 生成单选题，主题: 10以内加减法, 难度: medium
2025-07-18 18:16:04,094 - root - INFO - 使用缓存的单选题
2025-07-18 18:16:07,230 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:07,231 - root - INFO - 自动标记上一个工具调用完成: tooluse_b5tbHhv8SKSbdEhvgEhNeQ
2025-07-18 18:16:07,232 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: 2f303866-ed0d-46bf-8084-de6cccb238a1
2025-07-18 18:16:07,619 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:07,620 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:07,620 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:07,621 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:08,067 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:08,067 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:08,067 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:08,075 - root - INFO - 生成单选题，主题: 10以内加减法计算, 难度: medium
2025-07-18 18:16:08,077 - root - INFO - 使用缓存的单选题
2025-07-18 18:16:10,675 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:10,676 - root - INFO - 自动标记上一个工具调用完成: tooluse_1jOLu412SN6l5gBTcxoutw
2025-07-18 18:16:10,676 - root - INFO - 记录工具调用开始: generate_multiple_choice_question, ID: 048149e7-d03f-4747-813c-8334460ddc68
2025-07-18 18:16:10,958 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:10,959 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:10,959 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:11,310 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:11,311 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:11,312 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:11,315 - root - INFO - 生成多选题，主题: 10以内加减法, 难度: medium
2025-07-18 18:16:11,318 - root - INFO - 使用缓存的多选题
2025-07-18 18:16:14,457 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,458 - root - INFO - 自动标记上一个工具调用完成: tooluse_ldDyyPN-RsymwNOQkcJc9Q
2025-07-18 18:16:14,458 - root - INFO - 记录工具调用开始: generate_multiple_choice_question, ID: 6ed9ea27-4526-4412-88ee-93c66b3072c8
2025-07-18 18:16:14,459 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,460 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,460 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,460 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,543 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,544 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,544 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,545 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:14,549 - root - INFO - 生成多选题，主题: 10以内加减法, 难度: medium
2025-07-18 18:16:14,550 - root - INFO - 使用缓存的多选题
2025-07-18 18:16:17,529 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:17,529 - root - INFO - 自动标记上一个工具调用完成: tooluse_PRzCEEerTqqcXk_1WLMcLQ
2025-07-18 18:16:17,529 - root - INFO - 记录工具调用开始: generate_multiple_choice_question, ID: ef55a37e-3b55-499b-91a4-4502c4f13e8f
2025-07-18 18:16:17,743 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:17,743 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:17,744 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:18,333 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:18,333 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:18,333 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:18,340 - root - INFO - 生成多选题，主题: 10以内加减法的应用, 难度: medium
2025-07-18 18:16:18,342 - root - INFO - 使用缓存的多选题
2025-07-18 18:16:21,096 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,097 - root - INFO - 自动标记上一个工具调用完成: tooluse_KLNWzL6RRvCAzPHBGmZ1mg
2025-07-18 18:16:21,097 - root - INFO - 记录工具调用开始: generate_fill_blank_question, ID: b63df35f-d205-4bae-97d5-5de82c7e1b84
2025-07-18 18:16:21,414 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,415 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,415 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,836 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,837 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,838 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,838 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:21,842 - root - INFO - 生成填空题，主题: 10以内加减法, 难度: medium
2025-07-18 18:16:21,845 - root - INFO - 使用缓存的填空题
2025-07-18 18:16:24,805 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:24,805 - root - INFO - 自动标记上一个工具调用完成: tooluse_FHG9iXHjRoC7L1E6N8zSvw
2025-07-18 18:16:24,805 - root - INFO - 记录工具调用开始: validate_exam_format, ID: a5f00126-55e2-4dfd-b33a-5d23d8b7211b
2025-07-18 18:16:33,254 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,256 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,257 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,257 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,259 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,260 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,260 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,261 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,261 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,262 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,457 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,458 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,458 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,460 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,461 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,461 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,462 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,463 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,463 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,464 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,465 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,466 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,466 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,466 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,467 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,467 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,468 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,468 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,468 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,469 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,470 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,470 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,470 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,471 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,472 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,472 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,473 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,474 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,474 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,475 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,475 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,476 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,476 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,477 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,477 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,478 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,479 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,479 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,480 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,480 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,480 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,481 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,482 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,482 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,482 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:33,482 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_OFWT-mxqRaem8cntZRl83g
2025-07-18 18:16:43,380 - root - INFO - 发送Markdown内容到Flask渲染服务
2025-07-18 18:16:43,381 - root - INFO - 移除了考试内容前的总结性文本
2025-07-18 18:16:43,424 - root - INFO - 渲染服务响应: {'message': '保存成功\n查看链接http://localhost:5006/get_html/ed481841-7bfe-4472-afd7-4b79fd493e68'}
2025-07-18 18:16:43,424 - __main__ - INFO - 自动标记最后的工具调用完成: validate_exam_format
2025-07-18 18:16:43,425 - __main__ - INFO - 考试生成完成: 32013399-d744-4775-8d50-7fa46d3d711c
2025-07-18 18:16:43,426 - werkzeug - INFO - 127.0.0.1 - - [18/Jul/2025 18:16:43] "POST /workflows/run HTTP/1.1" 200 -
2025-07-18 18:17:17,509 - werkzeug - INFO - 127.0.0.1 - - [18/Jul/2025 18:17:17] "GET /evaluation/report HTTP/1.1" 200 -
2025-07-21 08:39:54,841 - werkzeug - INFO - 127.0.0.1 - - [21/Jul/2025 08:39:54] "OPTIONS /workflows/run HTTP/1.1" 200 -
2025-07-21 08:39:54,848 - __main__ - INFO - 收到考试生成请求: {"inputs": {"reference": "", "grade": "2nd", "subject": "Mathematics", "count": 5, "types": "singleChoice,multipleChoice,fillInTheBlank", "topics": "20以内乘除法运算", "difficulty": "medium", "teacher_notes": "", "comments": ""}, "response_mode": "streaming", "user": "abc-123"}
2025-07-21 08:39:54,849 - __main__ - INFO - 创建工作流: f49f46ac-490a-42a8-915b-c65275fe961c
2025-07-21 08:39:54,850 - root - INFO - 为工作流 f49f46ac-490a-42a8-915b-c65275fe961c 步骤 23a51402-241d-4def-9555-26ba800170ab 创建回调处理器
2025-07-21 08:39:54,891 - botocore.credentials - INFO - Found credentials in environment variables.
2025-07-21 08:39:58,675 - root - ERROR - 生成考试失败: An error occurred (ValidationException) when calling the ConverseStream operation: Access to Anthropic models is not allowed from unsupported countries, regions, or territories. Please refer to https://www.anthropic.com/supported-countries for more information on the countries and regions Anthropic currently supports.
2025-07-21 08:39:58,675 - __main__ - ERROR - 考试生成失败: 生成考试失败: An error occurred (ValidationException) when calling the ConverseStream operation: Access to Anthropic models is not allowed from unsupported countries, regions, or territories. Please refer to https://www.anthropic.com/supported-countries for more information on the countries and regions Anthropic currently supports.
Traceback (most recent call last):
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/exam_generator/agent.py", line 126, in generate_exam
    result = agent(prompt)  # 直接调用Agent实例，符合Strands Agent框架标准用法
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 379, in __call__
    return future.result()
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/opentelemetry/instrumentation/threading/__init__.py", line 171, in wrapped_func
    return original_func(*func_args, **func_kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 375, in execute
    return asyncio.run(self.invoke_async(prompt, **kwargs))
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 400, in invoke_async
    async for event in events:
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 510, in stream_async
    async for event in events:
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 546, in _run_loop
    async for event in events:
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/agent/agent.py", line 585, in _execute_event_loop_cycle
    async for event in events:
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/event_loop/event_loop.py", line 182, in event_loop_cycle
    raise e
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/event_loop/event_loop.py", line 130, in event_loop_cycle
    async for event in stream_messages(agent.model, agent.system_prompt, agent.messages, tool_specs):
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/event_loop/streaming.py", line 318, in stream_messages
    async for event in process_stream(chunks):
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/event_loop/streaming.py", line 273, in process_stream
    async for chunk in chunks:
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/models/bedrock.py", line 350, in stream
    await task
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/opt/homebrew/Cellar/python@3.10/3.10.18/Frameworks/Python.framework/Versions/3.10/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/opentelemetry/instrumentation/threading/__init__.py", line 171, in wrapped_func
    return original_func(*func_args, **func_kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/models/bedrock.py", line 447, in _stream
    raise e
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/strands/models/bedrock.py", line 384, in _stream
    response = self.client.converse_stream(**request)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/botocore/client.py", line 601, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/botocore/context.py", line 123, in wrapper
    return func(*args, **kwargs)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/venv/lib/python3.10/site-packages/botocore/client.py", line 1074, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.errorfactory.ValidationException: An error occurred (ValidationException) when calling the ConverseStream operation: Access to Anthropic models is not allowed from unsupported countries, regions, or territories. Please refer to https://www.anthropic.com/supported-countries for more information on the countries and regions Anthropic currently supports.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/exam_generator/server.py", line 39, in run_workflow
    result = generate_exam(exam_request, workflow_id)
  File "/Users/zhengoya/Desktop/aws_sample_codes/Demo/ai-exam-generator-strands/ai-exam-generator-strands-package/exam_generator_strands/exam_generator/agent.py", line 173, in generate_exam
    raise Exception(f"生成考试失败: {str(e)}")
Exception: 生成考试失败: An error occurred (ValidationException) when calling the ConverseStream operation: Access to Anthropic models is not allowed from unsupported countries, regions, or territories. Please refer to https://www.anthropic.com/supported-countries for more information on the countries and regions Anthropic currently supports.
2025-07-21 08:39:58,694 - root - ERROR - 错误: 生成考试失败: An error occurred (ValidationException) when calling the ConverseStream operation: Access to Anthropic models is not allowed from unsupported countries, regions, or territories. Please refer to https://www.anthropic.com/supported-countries for more information on the countries and regions Anthropic currently supports.
2025-07-21 08:39:58,695 - werkzeug - INFO - 127.0.0.1 - - [21/Jul/2025 08:39:58] "[35m[1mPOST /workflows/run HTTP/1.1[0m" 500 -
2025-07-21 08:44:48,946 - werkzeug - INFO - 127.0.0.1 - - [21/Jul/2025 08:44:48] "OPTIONS /workflows/run HTTP/1.1" 200 -
2025-07-21 08:44:48,956 - __main__ - INFO - 收到考试生成请求: {"inputs": {"reference": "", "grade": "2nd", "subject": "Mathematics", "count": 5, "types": "singleChoice,multipleChoice,fillInTheBlank", "topics": "100以内乘除法", "difficulty": "medium", "teacher_notes": "", "comments": ""}, "response_mode": "streaming", "user": "abc-123"}
2025-07-21 08:44:48,956 - __main__ - INFO - 创建工作流: 06def76c-719a-4ebd-b7b9-24973e8af0ea
2025-07-21 08:44:48,957 - root - INFO - 为工作流 06def76c-719a-4ebd-b7b9-24973e8af0ea 步骤 8c2d6fc6-3114-44d2-848a-7a5c3ef183ad 创建回调处理器
2025-07-21 08:44:48,970 - botocore.credentials - INFO - Found credentials in environment variables.
2025-07-21 08:44:54,700 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:54,700 - root - INFO - 记录工具调用开始: extract_exam_metadata, ID: 3e0948b4-4af5-41a7-9d9e-9865e14413e4
2025-07-21 08:44:56,928 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,928 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,928 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,929 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,929 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,931 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,931 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,932 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,932 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,933 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,935 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,936 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,937 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,937 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,937 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:56,939 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,201 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,202 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,203 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,203 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,204 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,204 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,204 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,205 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,205 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,206 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,206 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,206 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,206 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,207 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,207 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,207 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,208 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,208 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,208 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:44:57,208 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:45:00,754 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:00,754 - root - INFO - 自动标记上一个工具调用完成: tooluse_5fAVdwIaS5i4RJXxs910ow
2025-07-21 08:45:00,754 - root - INFO - 记录工具调用开始: extract_exam_metadata, ID: 021c7eba-e10a-445d-8675-efeab253a752
2025-07-21 08:45:02,460 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,460 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,460 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,460 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,461 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,461 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,462 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,463 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,464 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,466 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,466 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,466 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,466 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,467 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,467 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,467 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,467 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,467 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,733 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,734 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,734 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,734 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,734 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:02,734 - root - INFO - 工具调用: extract_exam_metadata, 状态: None, ID: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:06,689 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:06,690 - root - INFO - 自动标记上一个工具调用完成: tooluse_C2pQvRblSBmK26RmL_8K9w
2025-07-21 08:45:06,690 - root - INFO - 记录工具调用开始: plan_exam_content, ID: e0c1e402-e44d-43d6-ab82-8e615e490a33
2025-07-21 08:45:08,249 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,249 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,249 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,249 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,250 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,250 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,251 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,254 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,255 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,255 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,255 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,255 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,255 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,256 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,314 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,316 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,316 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,522 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,523 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,523 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,523 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,523 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,524 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,524 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,525 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:08,526 - root - INFO - 工具调用: plan_exam_content, 状态: None, ID: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:11,414 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:11,415 - root - INFO - 自动标记上一个工具调用完成: tooluse_AGg0ieRkQzuBYkOWGFIUpg
2025-07-21 08:45:11,415 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: a8e52bc3-40c1-4cd4-be04-9ca14df51d71
2025-07-21 08:45:11,879 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:11,880 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:11,880 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:12,249 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:12,249 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:12,249 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:12,252 - root - INFO - 生成单选题，主题: 100以内乘除法, 难度: medium
2025-07-21 08:45:19,091 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,092 - root - INFO - 自动标记上一个工具调用完成: tooluse_Mf7f_knAT2KXu5QfXVKLow
2025-07-21 08:45:19,092 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: a8a17fdd-ddc2-4534-af4c-f4c0904700dd
2025-07-21 08:45:19,092 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,092 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,092 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,093 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,093 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,093 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,093 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:19,152 - root - INFO - 生成单选题，主题: 100以内乘除法, 难度: medium
2025-07-21 08:45:19,153 - root - INFO - 使用缓存的单选题
2025-07-21 08:45:23,413 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:23,414 - root - INFO - 自动标记上一个工具调用完成: tooluse_-WdLPZiNSFawoHhXq8tVpQ
2025-07-21 08:45:23,414 - root - INFO - 记录工具调用开始: generate_single_choice_question, ID: ffff51f0-be5a-4ed4-a3a0-e648c62b0c8e
2025-07-21 08:45:23,921 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:23,922 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:23,922 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:23,922 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:24,208 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:24,209 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:24,209 - root - INFO - 工具调用: generate_single_choice_question, 状态: None, ID: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:24,212 - root - INFO - 生成单选题，主题: 100以内乘除法计算, 难度: medium
2025-07-21 08:45:31,129 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,130 - root - INFO - 自动标记上一个工具调用完成: tooluse_57QsqVfARBy7HyNkCzuuKA
2025-07-21 08:45:31,130 - root - INFO - 记录工具调用开始: generate_multiple_choice_question, ID: e8cf5546-0d7c-4e2d-a94c-142e304b6cc1
2025-07-21 08:45:31,273 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,273 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,273 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,653 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,654 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,654 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:31,658 - root - INFO - 生成多选题，主题: 100以内乘除法, 难度: medium
2025-07-21 08:45:38,585 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:38,585 - root - INFO - 自动标记上一个工具调用完成: tooluse_qJ3xSzDKRDa0hJe9dJaiJA
2025-07-21 08:45:38,585 - root - INFO - 记录工具调用开始: generate_multiple_choice_question, ID: a0649fd1-ae92-4a4d-acb4-1767d960dc1f
2025-07-21 08:45:39,030 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,031 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,031 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,031 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,490 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,490 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,490 - root - INFO - 工具调用: generate_multiple_choice_question, 状态: None, ID: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:39,495 - root - INFO - 生成多选题，主题: 100以内乘除法应用题, 难度: medium
2025-07-21 08:45:47,296 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:47,297 - root - INFO - 自动标记上一个工具调用完成: tooluse_kBFrdAcZSkGtcQ7j0wruXg
2025-07-21 08:45:47,297 - root - INFO - 记录工具调用开始: generate_fill_blank_question, ID: 1d251baf-ec82-48e9-b5c1-a4ecbe8e4172
2025-07-21 08:45:47,827 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:47,828 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:47,828 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:47,829 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:48,052 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:48,052 - root - INFO - 工具调用: generate_fill_blank_question, 状态: None, ID: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:48,058 - root - INFO - 生成填空题，主题: 100以内乘除法, 难度: medium
2025-07-21 08:45:53,656 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:45:53,656 - root - INFO - 自动标记上一个工具调用完成: tooluse_LByQicMbRyOAS2K6LSEidA
2025-07-21 08:45:53,657 - root - INFO - 记录工具调用开始: validate_exam_format, ID: 96b019a1-d19e-410d-9065-93e74244203e
2025-07-21 08:46:00,213 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,213 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,213 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,215 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,216 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,217 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,217 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,219 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,220 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,221 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,221 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,221 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,222 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,222 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,223 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,223 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,224 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,224 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,224 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,488 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,489 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,489 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,490 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,491 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,491 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,492 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,493 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,493 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,494 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,494 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,494 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,495 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,495 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,496 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,496 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,496 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,496 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,497 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,497 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,497 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,498 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,498 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,499 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,499 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,499 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,500 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,500 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,501 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,502 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,503 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,503 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,504 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,505 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,505 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,505 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,506 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,506 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,506 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,507 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,508 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,508 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,508 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,508 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,508 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,509 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,510 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,511 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,511 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:00,511 - root - INFO - 工具调用: validate_exam_format, 状态: None, ID: tooluse_fJNmV_25RQum925thy5xTw
2025-07-21 08:46:09,965 - root - INFO - 发送Markdown内容到Flask渲染服务
2025-07-21 08:46:09,966 - root - INFO - 移除了考试内容前的总结性文本
2025-07-21 08:46:09,987 - root - INFO - 渲染服务响应: {'message': '保存成功\n查看链接http://localhost:5006/get_html/ed1a442f-a25a-457e-be0d-85331f236388'}
2025-07-21 08:46:09,987 - __main__ - INFO - 自动标记最后的工具调用完成: validate_exam_format
2025-07-21 08:46:09,987 - __main__ - INFO - 考试生成完成: 06def76c-719a-4ebd-b7b9-24973e8af0ea
2025-07-21 08:46:09,988 - werkzeug - INFO - 127.0.0.1 - - [21/Jul/2025 08:46:09] "POST /workflows/run HTTP/1.1" 200 -
2025-07-21 08:46:23,218 - werkzeug - INFO - 127.0.0.1 - - [21/Jul/2025 08:46:23] "GET /evaluation/report HTTP/1.1" 200 -
